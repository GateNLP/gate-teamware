<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Managing Releases | GATE Teamware Documentation</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Documentation for GATE Teamware">
    
    <link rel="preload" href="/gate-teamware/development/assets/css/0.styles.397cc0c4.css" as="style"><link rel="preload" href="/gate-teamware/development/assets/js/app.1128c986.js" as="script"><link rel="preload" href="/gate-teamware/development/assets/js/2.722bc59e.js" as="script"><link rel="preload" href="/gate-teamware/development/assets/js/3.8f18f96a.js" as="script"><link rel="preload" href="/gate-teamware/development/assets/js/19.c1a6baec.js" as="script"><link rel="prefetch" href="/gate-teamware/development/assets/js/10.6186ba88.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/11.a64a0ec3.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/12.3ea2393f.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/13.8e876e7e.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/14.08661c34.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/15.3f79505e.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/16.a4094395.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/17.7bea2c28.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/18.d70801e6.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/20.9c823177.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/21.d338a53f.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/22.24054cf7.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/23.76fae1b7.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/4.3fdf485a.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/5.6bac288d.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/6.b9dbdcbe.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/7.a10c8d75.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/8.f6eb7a52.js"><link rel="prefetch" href="/gate-teamware/development/assets/js/9.de7be897.js">
    <link rel="stylesheet" href="/gate-teamware/development/assets/css/0.styles.397cc0c4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/gate-teamware/development/" class="home-link router-link-active"><!----> <span class="site-name">GATE Teamware Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/gate-teamware/development/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/gate-teamware/development/annotatorguide/" class="nav-link">
  Annotators
</a></div><div class="nav-item"><a href="/gate-teamware/development/manageradminguide/" class="nav-link">
  Managers &amp; Admins
</a></div><div class="nav-item"><a href="/gate-teamware/development/developerguide/" class="nav-link router-link-active">
  Developer
</a></div> <!----></nav> <div style="font-weight:bold !important;" data-v-7a5597b6><select class="custom-select" data-v-7a5597b6><option value="/gate-teamware/0.3.0/">0.3.0</option><option value="/gate-teamware/0.4.0/">0.4.0</option><option value="/gate-teamware/2.0.0/">2.0.0</option><option value="/gate-teamware/2.1.0/">2.1.0</option><option selected="selected" value="/gate-teamware/development/">development</option></select></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/gate-teamware/development/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/gate-teamware/development/annotatorguide/" class="nav-link">
  Annotators
</a></div><div class="nav-item"><a href="/gate-teamware/development/manageradminguide/" class="nav-link">
  Managers &amp; Admins
</a></div><div class="nav-item"><a href="/gate-teamware/development/developerguide/" class="nav-link router-link-active">
  Developer
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/gate-teamware/development/developerguide/" aria-current="page" class="sidebar-link">Developer guide</a></li><li><a href="/gate-teamware/development/developerguide/frontend.html" class="sidebar-link">Frontend</a></li><li><a href="/gate-teamware/development/developerguide/testing.html" class="sidebar-link">Testing</a></li><li><a href="/gate-teamware/development/developerguide/releases.html" aria-current="page" class="active sidebar-link">Managing Releases</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/gate-teamware/development/developerguide/releases.html#steps-to-making-a-release" class="sidebar-link">Steps to making a release</a></li></ul></li><li><a href="/gate-teamware/development/developerguide/documentation.html" class="sidebar-link">Managing and versioning documentation</a></li><li><a href="/gate-teamware/development/developerguide/api_docs.html" class="sidebar-link">API Documentation</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="managing-releases"><a href="#managing-releases" class="header-anchor">#</a> Managing Releases</h1> <p><em>These instructions are primarily intended for the maintainers of Teamware.</em></p> <p>Note: Releases are always made from the <code>master</code> branch of the repository.</p> <h2 id="steps-to-making-a-release"><a href="#steps-to-making-a-release" class="header-anchor">#</a> Steps to making a release</h2> <ol><li><strong>Update the changelog</strong> - This has to be done manually, go through any pull requests to <code>dev</code> since the last release.
<ul><li>In github pull requests page, use the search term <code>is:pr merged:&gt;=yyyy-mm-dd</code> to find all merged PR from the date since the last version change.</li> <li>Include the changes in the <code>CHANGELOG.md</code> file; the changelog section <em>MUST</em> begin with a level-two heading that starts with the relevant version number in square brackets (<code>## [N.M.P] Optional descriptive suffix</code>) as the GitHub workflow that creates a release from the eventual tag depends on this pattern to find the right release notes.  Each main item within the changelog should have a link to the originating PR e.g. [#123](https://github.com/GateNLP/gate-teamware/pull/123).</li></ul></li> <li><strong>Update and check the version numbers</strong> - from the teamware directory run <code>python version.py check</code> to check whether all version numbers are up to date. If not, update the master <code>VERSION</code> file and run <code>python version.py update</code> to update all other version numbers and commit the result. Note that <code>version.py</code> requires <code>pyyaml</code> for reading <code>CITATION.cff</code>, <code>pyyaml</code> is included in Teamware's dependencies.</li> <li><strong>Create a version of the documentation</strong> - Run <code>npm run docs:create_version</code>, this will archive the current version of the documentation using the version number in <code>package.json</code>.</li> <li><strong>Create a pull request from <code>dev</code> to <code>master</code></strong> including any changes to <code>CHANGELOG.md</code>, <code>VERSION</code>.</li> <li><strong>Create a tag</strong> - Once the dev-to-master pull request has been merged, create a tag from the resulting <code>master</code> branch named <code>vN.M.P</code> (i.e. the new version number prefixed with the letter <code>v</code>).  This will trigger two GitHub workflows:
<ul><li>one that builds versioned Docker images for this release and pushes them to <code>ghcr.io</code>, updating the <code>latest</code> image tag to point to the new release</li> <li>one that creates a &quot;release&quot; on GitHub with the necessary artifacts to make the <code>https://gate.ac.uk/get-teamware.sh</code> installation mechanism work correctly.  The release notes for this release will be generated by extracting the matching section from <code>CHANGELOG.md</code>.</li></ul></li> <li><strong>Update the Helm chart</strong> - Create a new branch on <a href="https://github.com/GateNLP/charts" target="_blank" rel="noopener noreferrer">https://github.com/GateNLP/charts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to update the <code>appVersion</code> of the <code>gate-teamware</code> Helm chart to match the version that was just created by the tag workflow.  You must also update the chart <code>version</code>, bumping the major version number if the new chart is not backwards-compatible with the old.  Submit a pull request to the <code>main</code> branch, which will publish the new chart when it is merged.</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/gate-teamware/development/developerguide/testing.html" class="prev">
        Testing
      </a></span> <span class="next"><a href="/gate-teamware/development/developerguide/documentation.html">
        Managing and versioning documentation
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/gate-teamware/development/assets/js/app.1128c986.js" defer></script><script src="/gate-teamware/development/assets/js/2.722bc59e.js" defer></script><script src="/gate-teamware/development/assets/js/3.8f18f96a.js" defer></script><script src="/gate-teamware/development/assets/js/19.c1a6baec.js" defer></script>
  </body>
</html>
